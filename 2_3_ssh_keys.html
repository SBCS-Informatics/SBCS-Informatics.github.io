<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>SSH Keys | SBCS-Informatics</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="./3_0_contact.html" />
    
    
    <link rel="prev" href="./2_2_specs.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-edit-link/plugin.css">
        
    
    

        
    <div class="book" data-level="2.3" data-basepath="." data-revision="Mon Oct 05 2015 15:31:00 GMT+0000 (UTC)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="1_0_using_unix_and_apocrita.html">
            
                
                    <a href="./1_0_using_unix_and_apocrita.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Using Unix and Apocrita
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="1_1_what_is_apocrita.html">
            
                
                    <a href="./1_1_what_is_apocrita.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        What is Apocrita?
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="1_2_connecting_to_apocrita.html">
            
                
                    <a href="./1_2_connecting_to_apocrita.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Connecting to Apocrita
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="1_3_launching_a_job_on_apocrita.html">
            
                
                    <a href="./1_3_launching_a_job_on_apocrita.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Launching a Job on Apocrita
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="1_4_basic_unix_navigation.html">
            
                
                    <a href="./1_4_basic_unix_navigation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Basic UNIX Navigation
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="1_5_playing_with_files.html">
            
                
                    <a href="./1_5_playing_with_files.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        Playing With Files
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="1_6_copying_and_downloading_files.html">
            
                
                    <a href="./1_6_copying_and_downloading_files.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                        Copying &amp; Downloading Files
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="1_7_dealing_with_compressed_files.html">
            
                
                    <a href="./1_7_dealing_with_compressed_files.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        Dealing with Compressed Files
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="1_8_compiling_a_piece_of_software.html">
            
                
                    <a href="./1_8_compiling_a_piece_of_software.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                        Compiling a Piece of Software
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="1_9_r.html">
            
                
                    <a href="./1_9_r.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.9.</b>
                        
                        R
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="1_10_handy_shortcuts.html">
            
                
                    <a href="./1_10_handy_shortcuts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.10.</b>
                        
                        Handy Shortcuts
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="2_0_advanced.html">
            
                
                    <a href="./2_0_advanced.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Advanced
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="2_1_oneliners.html">
            
                
                    <a href="./2_1_oneliners.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Oneliners
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="2_2_specs.html">
            
                
                    <a href="./2_2_specs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Apocrita Specifications
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="2_3_ssh_keys.html">
            
                
                    <a href="./2_3_ssh_keys.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        SSH Keys
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="3_0_contact.html">
            
                
                    <a href="./3_0_contact.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Contact
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >SBCS-Informatics</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <a id="edit-link" href="https://github.com/sbcs-informatics/sbcs-informatics.github.io/edit/src/2_3_ssh_keys.md" class="btn fa fa-edit pull-left">&nbsp;&nbsp;Edit</a><h2 id="3-ssh-keys">3. SSH Keys</h2>
<h3 id="keys">Keys</h3>
<p>You can set up a pair of SSH keys for a more secure as well as password-less login to Apocrita. This is done by having a private key on your machine, and a matching public key on the remote server, when you try to log in these two match up and let you in without having to type the user password. The private key should never be shared with anyone as it will allow that person access to your login. This is why you should always <strong>protect your private key</strong> with a passphrase.</p>
<h4 id="key-generation">Key Generation</h4>
<ol>
<li>Open a terminal window (on Windows, use MobaXterm)</li>
<li>Enter <code>ssh-keygen</code> and hit enter</li>
<li>You will see <code>Enter file in which to save the key (/home/username/.ssh/id_rsa):</code> on the screen. Just hit enter here which will save the keys in their default location.</li>
<li>The program will now ask you for a passphrase. Please enter one (it is possible to create a key without it but don&apos;t, it&apos;s to protect from someone getting hold of your private key.)</li>
<li>There is a message telling you that the key pair has been created, the public key is now located in /home/my_username/.ssh/id_rsa.pub and the private key is /home/my_username/.ssh/id_rsa.</li>
<li>You are now ready to copy the <strong>public key</strong> to Apocrita</li>
</ol>
<h4 id="public-key-copy">Public Key Copy</h4>
<p>The process is different depending on which operating system you are using. </p>
<h5 id="windows-and-linux">Windows and Linux</h5>
<p>Here its very simple, open a terminal (or MobaXterm window) and type in <code>ssh-copy-id btw000@login.hpc.qmul.ac.uk</code> using your own username. Thats it. Now try your connection <code>ssh -X btw000@login.hpc.qmul.ac.uk</code>!</p>
<h5 id="mac">Mac</h5>
<p>One of the few times having a mac will make you suffer extra work. You will have to manually copy your <strong>public key</strong> to a file located in your home directory on Apocrita.</p>
<ol>
<li>Open a terminal and go to your home directory with <code>cd</code></li>
<li>Use <code>scp</code> to copy the public key to Apocrita with this command <code>scp .ssh/id_rsa.pub btw000@login.hpc.qmul.ac.uk:~/</code></li>
<li>Login to Apocrita <code>ssh btw977@login.hpc.qmul.ac.uk</code></li>
<li><code>cat ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></li>
<li>You can now log out and try the connection again to see if your keys work!</li>
</ol>
<blockquote>
<p><em>If you have <a href="http://brew.sh/" target="_blank">Homebrew</a> installed on your Mac you can use it to install <code>ssh-copy-id</code> and go from there.</em></p>
</blockquote>
<h3 id="shortcuts">Shortcuts</h3>
<p>Another convenience tip is to add shorthand names for your ssh logins. The address to the apocrita head node is quite long and arguably tedious to write. So, this being computer science, of course there is a setup that will allow you to simply type something like <code>ssh apocrita</code> on the commandline to connect.</p>
<ol>
<li><code>cd ~/.ssh</code></li>
<li>Open or create the config file <code>nano config</code></li>
<li>Add the following, you may call the Host whatever you like, here I&apos;m using &quot;apocrita&quot;:<pre><code>Host apocrita
 Hostname frontend1.apocrita.hpc.qmul.ac.uk
 IdentityFile ~/.ssh/id_rsa
 User btw000
 ServerAliveInterval 300
</code></pre></li>
<li>Save and quit the editor</li>
<li>Change permissions of the file <code>chmod 600 ~/.ssh/config</code></li>
<li>Try <code>ssh apocrita</code></li>
</ol>
<p>You may or may not want X11 forwarding and there are other <a href="http://linux.die.net/man/5/ssh_config" target="_blank">options</a>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./2_2_specs.html" class="navigation navigation-prev " aria-label="Previous page: Apocrita Specifications"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./3_0_contact.html" class="navigation navigation-next " aria-label="Next page: Contact"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"edit-link":{"base":"https://github.com/sbcs-informatics/sbcs-informatics.github.io/edit/src","label":"Edit"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
